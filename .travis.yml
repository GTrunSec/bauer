language: nix

script:
  - nix-build -Q --argstr channel $CHANNEL

git:
  depth: 1
sudo: false
os:
  - linux
  - osx

env:
  - CHANNEL=nixos-unstable
  - CHANNEL=nixpkgs-unstable
  - CHANNEL=nixos-18.09
  - CHANNEL=nixpkgs-18.09-darwin

cache:
  directories:
    - /nix/store

notifications:
  email: false
